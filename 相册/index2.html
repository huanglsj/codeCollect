<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
		<script type="text/javascript" src="../js/jquery.min.js" ></script>
		<style>
			*{
				padding: 0;
				margin: 0;
				list-style: none;
			}
			a{
				text-decoration: none;
			}
			img{
				width: 100%;
				display: block;
			}
			.nav{
				width: 100%;
				position: relative;
				overflow: hidden;
			}
			/*@media only screen and (min-width: 300px) {
				.nav{
				width: 100%;
				position: relative;
				overflow: hidden;
				max-height: 130px;
			   }
			}*/
			.nav ul{
				width: 100%;
				position: relative;
				overflow: hidden;
				
			}
			.nav ul li{
				display:none;
				float: left;
				overflow: hidden;                
			}
            .nav ul li.active{
            	display: block;
            }
            
            .blocked{
            	z-index: 1;
				width: 100%;
				background: rgba(0,0,0,0.7);
				position: fixed;
				left: 0;
				top: 0;
            }
            .blocked .close a{
				color: #fff;
				position: fixed;
				font-size: 76px;
				right: 3%;
				top: 2%;
				text-decoration: none;
				opacity: 1;
				z-index: 100;
			}
			/*.showpic{
				position: relative;
				z-index: 3;
				width: 100%;
				height: 100%;
			}*/
			.showpic .showpic-ul{
				position: fixed;
				padding-left: 10%;
				padding-right: 10%;
				padding-top: 10%;
				overflow: hidden;
			}
			.showpic-ul li{
				position: relative;
				display: none;
				overflow: hidden;
				transition: all 0.5s;
				height: 100%;
			}
			.showpic-ul li.active{
				display: block;
			}
			.showpic-ul .picwenzi{
				position: absolute;
				bottom: 0;
				background-color: RGBA(0,0,0,0.5);
	            position: absolute;
	            left: 0;
	            width: 100%;
	            max-height: 50px;
	            color: #fff;
	            padding-top: 10px;
	            padding-bottom: 10px;
			}
			.showpic-ul .picwenzi p{
	            font-weight: bold;
	            margin-left: 15px;
	            overflow: hidden;
	            width: 90%;
	            white-space: nowrap;
                text-overflow: ellipsis;
	        }
	        .arrow{
				position: fixed;
				width: 10%;
				top: 30%;
				left: 0;
				font-size: 46px;
				color: #fff;
				text-align: center;
			/*	margin-top: -200px;*/
				z-index: 80;
			}
			.arrow.prev{
				left: 0;
			}
			.arrow.next{
				left: auto;
				right: 0;
			}
			.olshow{
				
				width: 1010px;
				overflow: hidden;
				/*top: 50%;
				height: 100px;
	            left: 10%;
	            z-index: 999;*/
			}
			.showpic ol{
	            	
	            	position: absolute;
	            	top: 60%;
	            	height: 100px;
	            	left: 10%;
	            	z-index: 999;
	            	/*left: 50%;
	            	margin-left: -40%;*/
	            	/*overflow: hidden;*/
	            }
	            .showpic ol li{
	            	display:inline-block;
	            	width: 230px;
	            	float: left;
	            	position: static;
	            	margin-left: 22px;
	            	border: 3px solid #ddd;
	            	height: 100%;
	            }
	            .showpic ol li:first-child{
	            	margin-left: 0;
	            }
	            .showpic ol li a{
	            	display: block;
	            	overflow: hidden;
	            	height: 100%;
	            }
	            .showpic ol li img{
	            	display: block;
	            	width: 100%;
	            	opacity: 0.5;
	            	vertical-align: middle;
	            }
	            .showpic ol li.on{
	            	border: 3px solid #D58512;
	            }
	            .showpic ol li.on img{
	            	opacity: 1;
	            }
		</style>
	</head>
	<body style="min-height: 1000px;">
		
		<div class="nav">			
			<ul>
				<li class="active"><a href="javascript:;"><img src="../img/1.jpg"/></a></li>
				<li><a href="javascript:;"><img src="../img/2.jpg"/></a></li>
				<li><a href="javascript:;"><img src="../img/3.jpg"/></a></li>
				<li><a href="javascript:;"><img src="../img/4.jpg"/></a></li>
				<li><a href="javascript:;"><img src="../img/5.jpg"/></a></li>
			</ul>
		</div>
		
		<div class="blocked">
		   <div class="close"><a href="javascript:;">×</a></div>
		   
		   <div class="showpic">
		   	  
		   	<a href="javascript:;" class="arrow prev">&lt;</a>
            <a href="javascript:;" class="arrow next">&gt;</a>
		   	
		      <ul class="showpic-ul">
		         <li class="active">
		         	<a href="javascript:;">
		         		<img src="../img/1.jpg"/>
		         		<div class="picwenzi">
		      	         <p>文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍文字介绍</p>
		      	        </div>
		         	</a>
		         </li>
		         <li>
		         	<a href="javascript:;">
		         		<img src="../img/2.jpg"/>
		         		<div class="picwenzi">
		      	         <p>文字介绍</p>
		      	        </div>
		         	</a>
		         </li>
		         <li>
		         	<a href="javascript:;">
		         		<img src="../img/3.jpg"/>
		         		<div class="picwenzi">
		      	         <p>文字介绍</p>
		      	        </div>
		         	</a>
		         </li>
		         <li>
		         	<a href="javascript:;">
		         		<img src="../img/4.jpg"/>
		         		<div class="picwenzi">
		      	         <p>文字介绍</p>
		      	        </div>
		         	</a>
		         </li>
		         <li>
		         	<a href="javascript:;">
		         		<img src="../img/5.jpg"/>
		         		<div class="picwenzi">
		      	         <p>文字介绍</p>
		      	        </div>
		         	</a>
		         </li>
		      </ul>
		      
		     <div class="olshow">
		      <ol class="showpic-ol">
		         <li class="on"><a href="javascript:;"><img src="../img/1.jpg"/></a></li>
		         <li><a href="javascript:;"><img src="../img/2.jpg"/></a></li>
		         <li><a href="javascript:;"><img src="../img/3.jpg"/></a></li>
		         <li><a href="javascript:;"><img src="../img/4.jpg"/></a></li>
		         <li><a href="javascript:;"><img src="../img/5.jpg"/></a></li>
		       </ol>
		      </div> 
		   </div>
		</div>
		
		<script>
//		    var navli = $(".nav").width();
//          var navLiLen = $(".nav ul li").length;
//			$(".nav ul").css({"width":navLiLen*navli})
         
           var timer;
           var index = 0;
           var olindex = 0;
           var num = 4;
           var navLiLen = $(".nav ul li").length;
           var sy = navLiLen-num;
           var bgHeight = $(document.body).height();
		   $(".blocked").css({"height":bgHeight});
		   var olLi = $(".showpic-ol li").outerWidth()+22;
		   $(".showpic-ol").css({"width":olLi*navLiLen-22})
		   
           function animate(index){
           	  $(".nav ul li").hide();
           	  $(".showpic-ul li").hide();
           	  $(".nav ul li:eq("+index+")").fadeIn().siblings().fadeOut();
           	  $(".showpic-ul li:eq("+index+")").fadeIn().siblings().fadeOut();
           	  $(".showpic-ol li:eq("+index+")").addClass("on").siblings().removeClass("on");

           }
           
           function olanimate(index){
           	
           	  if(sy>0 && index>=num){      //当缩略图有超过3张的时候触发   
           	  	        $(".showpic-ol").css({"left":-olLi});
                        $(".showpic-ol li:lt("+(index-num)+")").hide();
                        $(".showpic-ol li:eq("+index+")").show();
				   }else{
				   	olindex=0;
				   	$(".showpic-ol li:gt("+(num-1)+")").hide();
				   }
           	 
//         	  
//         	  $(".showpic-ol li:gt("+olindex+")").show();
           }
           
           function next(){
           	  if(index==(navLiLen-1)){
           	  	 index = 0;
           	  	 olindex=0;
           	  }else{
           	  	 index++;          	  	 
           	  }
           	  animate(index);
           	  olanimate(index);
           }
           
           $(".showpic-ol li:gt("+(num-1)+")").hide();
           
           function play(){
           	   timer = setInterval(function(){
           	  	next();
           	  },3000);
           }
           
           function stop(){
           	  clearInterval(timer);
           }
           
           $(".nav ul li").mouseenter(function(){
           	   stop();
           });
           
           $(".nav ul li").mouseleave(function(){
           	   play();
           });
           
           $(function(){
           	  play();
           })
		</script>
	</body>
</html>
